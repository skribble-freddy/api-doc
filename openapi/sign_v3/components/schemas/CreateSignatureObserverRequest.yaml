title: Signature Observer
type: object
description: |-
  Defines an observer target which can either be a USER or a GROUP.

  - For type USER, either email or user_id must be provided (but not both).
  - For type GROUP, group_id must be provided and no user fields are allowed.
required:
  - type
properties:
  type:
    type: string
    description: Type of observer target.
    enum:
      - USER
      - GROUP
    example: USER
oneOf:
  - title: User Observer
    type: object
    required:
      - type
    properties:
      type:
        const: USER
      email:
        type: string
        format: email
        description: Email address of the user.
        example: you@example.info
      user_id:
        type: string
        description: Unique user identifier.
        example: "123"
    oneOf:
      - required: [email]
      - required: [user_id]
  - title: Group Observer
    type: object
    required:
      - type
      - group_id
    properties:
      type:
        const: GROUP
      group_id:
        type: string
        description: Unique group identifier.
        example: gr_456
