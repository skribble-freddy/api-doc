title: Create Signature Request
type: object
required:
  - title
properties:
  title:
    type: string
    description: Title of the signature request.
    example: Example contract
  message:
    type: string
    description: Message sent to the other participants along with this signature request.
    example: Please sign this document!
  legislation:
    $ref: ./SignatureLegislation.yaml
  quality:
    $ref: ./SignatureQuality.yaml
  signatures:
    type: array
    description: List of recipients required to sign the document.
    items:
      $ref: ./SignatureRecipient.yaml
  cc_email_addresses:
    oneOf:
      - type: array
        title: Observers
        # TODO: Check if the given observers need to have a valid Skribble account
        description: >-
          Observer email addresses of users who are granted read access and to whom notifications are sent.
          The given observers need to have a valid Skribble account. Otherwise the email address will not be accepted as valid observer.
        items:
          type: string
          format: email
        example:
          - backoffice@company_a.com
          - info@company_b.com
      - type: "null"
        title: "No observers"
oneOf:
  - type: object
    title: Base64 Content
    description: Provide the document as Base64-encoded content.
    required:
      - content
    properties:
      content:
        type: string
        format: byte
        description: Base64 encoded bytes of the document.
        example: "JVBERi0xLjQKJcfs..."
      content_type:
        type: string
        description: Content type of bytes sent in content. Currently, only application/pdf is supported.
        example: "application/pdf"
  - type: object
    title: File URL
    description: Provide a publicly accessible URL for the document.
    required:
      - file_url
    properties:
      file_url:
        type: string
        format: uri
        description: Publicly accessible URL for document download.
        example: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
  - type: object
    title: Document ID
    description: Reference an existing document already uploaded to Skribble.
    required:
      - document_id
    properties:
      document_id:
        type: string
        description: Document ID of an existing document on Skribble.
        example: "3648f61d-4194-455c-a0bc-1c438d2cd11b"
