post:
  tags:
    - Signature
  summary: Create a new signature request
  description: >-
    In this example we have three signers. One of the signers is you and the
    other two are external signers. Of course, it is also possible to create
    signature requests in which you are the only signer or where you are not a
    signer yourself. In the second case, you as creator of the
    `SignatureRequest` get read-only rights on this data object.
  operationId: postSignatureRequest
  security:
    - bearer: []
  parameters:
    - $ref: ../components/parameters/ExitURL.yaml
    - $ref: ../components/parameters/ErrorURL.yaml
    - $ref: ../components/parameters/RedirectTimeout.yaml
  requestBody:
    $ref: ../components/requestBodies/CreateSignatureRequest.yaml
  responses:
    200:
      description: OK
      content:
        application/json:
          schema:
            $ref: ../components/schemas/CreateSignatureResponse.yaml
          examples:
            default:
              $ref: ../components/examples/CreateSignatureResponse.yaml#/Default
    400:
      $ref: ../components/responses/BadRequest.yaml
      content:
        application/json:
          schema:
            $ref: ../components/schemas/BadRequestResponse.yaml
          example:
            type: "https://api.skribble.com/problem/problem-with-message"
            method: "POST"
            path: "/v2/signature-requests"
            status: 400
            message: "position.page references a non existing page in the document"
    401:
      $ref: ../components/responses/Unauthorized.yaml
    429:
      $ref: ../components/responses/TooManyRequests.yaml
    500:
      $ref: ../components/responses/ServerError.yaml
    503:
      $ref: ../components/responses/ServiceUnavailable.yaml
get:
  operationId: getSignatureRequest
  tags:
    - Signature
  summary: List and find SignatureRequests
  description: >-
    Using this `GET` request, you can list all the `SignatureRequests` provided
    that the current user has sufficient access rights to.


    You can optionally filter these `SignatureRequests` using one or more of the
    following criteria.


    | Parameter | Description | Mandatory |

    | --- | --- | --- |

    | **account_email** | Filter on the field `signatures[].account_email` | no
    |

    | **search** | Filter on the field `title` to search for documents
    _**containing**_ the serach term. | no |

    | **signature_status** | Filter on the field `signatures[].status_code` with
    one of the valid **Signature states** | no |

    | **status_overall** | Filter on the field `status_overall` with one of the
    valid **Signature states** | no |


    > **Note**  

    The filter searches for an exact match of the corresponding field content.
    This means that the filter is case sensitive and won&apos;t find objects
    that only _contain_ the parameter. For example
    _account_email=john.doe@skribble.com_ will only find a `SignatureRequests`
    where the field `account_email` is exactly
    [&lt;em&gt;john.doe@skribble.com&lt;/em&gt;](https://mailto:john.doe@skribble.com).
    It won&apos;t find
    [&lt;em&gt;another.john.doe@skribble.com&lt;/em&gt;](https://mailto:another.john.doe@skribble.com)  

    Exception: The search parameter searches for document titles that contain
    the search term. 
      

    **Pagination**


    Furthermore, the result set can be controlled using the optional pagination
    parameters `page_number` and `page_size`, which helps prevent excessively
    large result sets.


    | Parameter | Description | Mandatory |

    | --- | --- | --- |

    | `page_number` | Page number must be greater than or equal to 0 
    <br>Default: Pagination is disabled | no |

    | `page_size` | Page size must be greater than or equal to 0  <br>Default:
    50 | no |
  security:
    - bearer: []
  responses:
    '200':
      description: 'OK'
      content:
        text/plain:
          schema:
            type: string
            examples:
              - |-
                [

                    {

                        "id": "56c40808-ab69-4b50-c174-a0d59d59c48d",

                        "title": "First example contract",

                        ...

                    },

                    {

                        "id": "c9cce9be-4a6a-a958-a42e-6ea4172a378b",

                        "title": "Second example contract"

                        ...

                    },

                    {

                        "id": "c9cce9be-4a6a-a958-a42e-6ea4172a378b",

                        "title": "Third example contract"

                        ...

                    },

                    ...

                }
            contentMediaType: text/plain
          example: |-
            [

                {

                    "id": "56c40808-ab69-4b50-c174-a0d59d59c48d",

                    "title": "First example contract",

                    ...

                },

                {

                    "id": "c9cce9be-4a6a-a958-a42e-6ea4172a378b",

                    "title": "Second example contract"

                    ...

                },

                {

                    "id": "c9cce9be-4a6a-a958-a42e-6ea4172a378b",

                    "title": "Third example contract"

                    ...

                },

                ...

            }
    '400':
      $ref: ../components/responses/BadRequest.yaml
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '429':
      $ref: ../components/responses/TooManyRequests.yaml
    '500':
      $ref: ../components/responses/ServerError.yaml
    '503':
      $ref: ../components/responses/ServiceUnavailable.yaml
put:
  operationId: putSignatureRequest
  tags:
    - Signature
  summary: Add or remove multiple signers simultaneously
  description: >-
    To add or remove multiple signers at once, you need to update the
    `signatures` array according to your needs.


    - To add a signer to the `SignatureRequest`, simply add a new entry to the
    signatures array.
        
    - To remove a signer from the `SignatureRequest`, simply remove the
    corresponding entry from the `signatures` array.
        

    > ⚠️ **IMPORTANT NOTE** 
      

    - Please be aware that if you want to add one or more new signers, you MUST
    include the existing signers in the update request. Any signers not present
    in the `signatures` array will be removed!
        
    - Changes to the signatures can only be made as long as none of the signers
    have already completed the signature.
  security:
    - bearer: []
  requestBody:
    $ref: ../components/requestBodies/CreateSignatureRequest.yaml
  responses:
    200:
      description: OK
#      content:
#        application/json:
#          schema:
#            $ref: ../components/schemas/CreateSignatureResponse.yaml
    400:
      $ref: ../components/responses/BadRequest.yaml
    401:
      $ref: ../components/responses/Unauthorized.yaml
    429:
      $ref: ../components/responses/TooManyRequests.yaml
    500:
      $ref: ../components/responses/ServerError.yaml
    503:
      $ref: ../components/responses/ServiceUnavailable.yaml
