post:
  operationId: postToolingProcessCompress
  tags:
    - Tooling
  summary: Compress document
  description: >-
    Compress the document for a specific purpose. For best size and compliance,
    this should be done before any /convert. Can be called multiple times to get
    current status and results; if relevant changes have been made to the
    document with other tools, it will process the document again. If '423
    Locked' is returned it can be recalled with some delay.
  security:
    - bearerAuth: []
  parameters:
    - $ref: ../components/parameters/uploadid.yaml
    - $ref: ../components/parameters/optimisation.yaml
    - $ref: ../components/parameters/force.yaml
  responses:
    '200':
      description: Success
      content:
        application/json:
          schema:
            $ref: ../components/schemas/ToolingCompressResponse.yaml
          examples:
            Success:
              $ref: ../components/examples/ToolingSuccessCompress.yaml
            Failed:
              $ref: ../components/examples/ToolingFailed.yaml
    '400':
      $ref: ../components/responses/BadRequest.yaml
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '404':
      $ref: ../components/responses/NotFound.yaml
    '423':
      $ref: ../components/responses/Locked.yaml
    '429':
      $ref: ../components/responses/TooManyRequests.yaml
    '500':
      $ref: ../components/responses/ServerError.yaml
    '503':
      $ref: ../components/responses/ServiceUnavailable.yaml
